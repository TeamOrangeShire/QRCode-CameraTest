<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QR Code Scanner with QuaggaJS</title>
  <!-- Include QuaggaJS library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
</head>
<body>

<!-- Button to start scanning -->
<button id="startButton">Start Scanning</button>

<!-- Video element to display camera feed -->
<video id="camera-preview" ></video>

<!-- Container to display decoded QR code result -->
<div id="result"></div>

<script>
  // Function to start QR code scanning
  function startScanning() {
    // Initialize QuaggaJS
    Quagga.init({
      inputStream: {
        name: "Live",
        type: "LiveStream",
        target: document.querySelector('#camera-preview')
      },
      decoder: {
        readers: ["qrcode"]
      }
    }, function(err) {
      if (err) {
        console.error(err);
        return;
      }
      console.log("Initialization finished. Ready to start");
      Quagga.start();
    });

    // Handle decoded QR code results
    Quagga.onDetected(function(result) {
      var code = result.codeResult.code;
      console.log("Decoded QR code:", code);
      document.getElementById('result').textContent = "Decoded QR code: " + code;
    });
  }

  // Event listener for start button click
  document.getElementById('startButton').addEventListener('click', startScanning);
</script>

</body>
</html>
